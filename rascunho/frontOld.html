<section>
    <header>
        <div class="deckTree">
            <p>{{Deck}}</p>
            <p class="subDeck">{{Subdeck}}</p>
            <p class="info-Queue"><span id="infoQueue">{{info-Queue:}}</span> - card</p>
        </div>
    </header>
    <article>
        <div>
            {{Snapshot}}
        </div>
    </article>
    <div id="toggle" class="customButton" onclick="toggle()">
        Show Expression
    </div>
    <article id="expressionArticle">
        <div>
            {{Expression}}
        </div>
    </article>
    <footer>
        <audio style="display:none">{{Audio}}</audio>
    </footer>
</section>
<script>
    const articleExpressionElement = document.getElementById("expressionArticle");
    const toggleElement = document.getElementById("toggle");
    const infoQueueElement = document.getElementById("infoQueue");
    const infoQueueElementText = infoQueueElement.innerText;
    const cardTypes = {
        new: 0,
        learning: 1,
        review: 2,
        reLearning: 3,
        0:"new",
        1:"learning",
        2:"review",
        3:"re-learning"
    };
    const visibility = {
        true: {
            state: "visible",
            text: "Hide Expression"
        },
        false: {
            state: "hidden",
            text: "Show Expression"
        },
    };
    infoQueueElement.innerText = cardTypes[infoQueueElementText]

    if (infoQueueElementText == cardTypes.review) {
        articleExpressionElement.style.visibility = "hidden";
    }
    else if (infoQueueElementText == cardTypes.new) {
        toggleElement.style.display = "none";
    }

    const isHidden = (element) => {
        return element.style.visibility === "hidden" ? true : false;
    }

    function toggle() {
        let stateHandle = visibility[isHidden(articleExpressionElement)];
        articleExpressionElement.style.visibility = stateHandle.state;
        toggleElement.innerText = stateHandle.text;
    }
</script>