<section>
    <header>
        <span class="deck-tree">{{Deck}}</span>
        <span class="sub-deck-name">{{Subdeck}}</span>
    </header>

    <article>
        <p id="phrase" class="phrase"><span>{{Phrase}}</span></p>
    </article>
    <hr>
    <article>
        <span id="NewWord" class="new-word">{{NewWord}}</span>
        &nbsp;
        <span class="ipa">/{{IPA}}/</span>
    </article>

    {{#Class}}
    <article>
        <span class="classification">Class: {{Class}}</span>
    </article>
    {{/Class}}

    {{#Meaning}}
    <article>
        <p class="meaning">({{Meaning}})</p>
    </article>
    {{/Meaning}}
    <hr>
    <article>
        <p id="translatedPhrase" class="translation">{{Translation}}</p>
    </article>

    {{#Image}}
    <article>
        <picture>
            {{Image}}
        </picture>
    </article>
    {{/Image}}
</section>
<script>
    (function () {
        const phraseElement = document.getElementById("phrase");
        const translatedPhraseElement = document.getElementById("translatedPhrase");
        const translatedWord = "{{text:TranslatedWord}}";
        const newWord = "{{text:NewWord}}"

        const replacementElements = [
            {
                element: phraseElement,
                searchValue: newWord,
                classElement: "new-word"
            },
            {
                element: translatedPhraseElement,
                searchValue: translatedWord,
                classElement: "translated-word"
            }
        ]

        const applyStyles = (object) => {
            object.element.innerHTML = object.element.innerText
                .replace(object.searchValue,
                    `<span class="${object.classElement}">${object.searchValue}</span>`
                );
        }
        replacementElements.forEach(object => applyStyles(object));
    })();
</script>